<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>展示藏品</title>
  <link rel="stylesheet" href="css/display.css">

</head>
<body>
<header>
  <div class="info-container">
    <img src="" alt="头像" id="avatar" class="avatar">
    <h1 class="name" id="name"></h1>
    <p class="balance" id="balance"></p>
  </div>
</header>
<nav>
  <ul>
    <li><a href="personal-info.html">个人信息</a></li>
    <li><a href="casting.html">铸造藏品</a></li>
    <li><a href="#">展示藏品</a></li>
    <li><a href="search.html">搜索藏品</a></li>
    <li><a href="purchase.html">购买藏品</a></li>
    <li><a href="transfer.html">转移藏品</a></li>
    <li><a href="trace.html">追溯藏品</a></li>
  </ul>
</nav>

<section id="display">
  <h2>所有NFT</h2>
  <div id="nft">
  </div>
</section>

<footer>
  <p>版权所有 &copy; 2023 NFT管理系统</p>
</footer>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(function() {
    const nftContainer = $('#nft');

    function renderNFT(nftData) {
      // 清空容器
      nftContainer.html('');
      // 遍历NFT数据
      $.each(nftData, function(index, item) {
        const nftItem = $('<div>').addClass('nft-item');

        const nftImage = $('<img>').attr('src', 'https://ipfs.io/ipfs/' + item.ipfsCid).attr('alt', item.name);

        const nftInfo = $('<div>').addClass('nft-info');

        const nftName = $('<h2>').text(item.name);

        const nftPrice = $('<p>').text('价格:' + item.price);

        const nftType = $('<p>').text('类型:' + item.type);

        const nftOwner = $('<p>').text('所有者:' + item.owner);

        const nftDescription = $('<p>').text('描述:' + item.description);

        nftInfo.append(nftName, nftPrice, nftType, nftOwner, nftDescription);
        nftItem.append(nftImage, nftInfo);
        nftContainer.append(nftItem);
      });
    }

    $.get('/nft', function(data) {
      renderNFT(data);
    });
  });
</script>
</body>
</html>